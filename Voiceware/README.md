# Millennium Voiceware

The "voiceware" component on the Millennium payphone is what provides the audible prompts to the user, including certain call progress tones.  This data is stored seperately from the firmware, usually on different EEPROM chips which are located on the control board of the payphone.  The data is then processed for playback through, for example, an NEC upd7759 IC.  The data sheet can be found here:
https://github.com/armeniki/Nortel-Millennium/blob/master/Documentation/voiceware/uPD775x%20User%20Guide.pdf

During initial production, the voice prompts were record using NEC's speech analysis and emulation tools, the NV-300 and NV-310, respectively.  This is why the data stored on the voiceware chip is recorded in a non-conventional manner.

The data is also stored in two seperate formats.  The voice prompts are stored using NEC's VOX ADPCM algorithm and the call progress tones are stored in signed 8-bit PCM format.

For those interested in modifying the payphone's dialtone (if you happen to live outside North America or the UK), that information is stored as the following bytes within the voiceware firmware (note the ```44 FF``` which are header bytes):

```44 FF 00 A5 C8 E4 F7 FF FD EF D8 B9 96 72 50 33 1D 10 0E 15 25 3D 59 77 94 AD C1 CE D4 D1 C8 B9 A6 91 7D 6C 5E 55 51 51 56 5E 68 72 7B 82 86 87 86 83 7E 7A 78 77 79 7E 85 8E 98 A2 A9 AD AD A8 9D 8E 7C 68 53 41 33 2C 2B 32 41 56 71 8E AC C7 DD EB F1 EC DD C5 A6 83 5F 3D 20 0B 00 00 0B 20 3E 62 44 FF 00 A5 C8 E4 F7 FF FD EF D8 B9 96 72 50 33 1D 10 0E 15 25 3D 59 77 94 AD C1 CE D4 D1 C8 B9 A6 91 7D 6C 5E 55 51 51 56 5E 68 72 7B 82 86 87 86 83 7E 7A 78 77 79 7E 85 8E 98 A2 A9 AD AD A8 9D 8E 7C 68 53 41 33 2C 2B 32 41 56 71 8E AC C7 DD EB F1 EC DD C5 A6 83 5F 3D 20 0B 00 00 0B 20 3E 62 44 FF 00 A5 C8 E4 F7 FF FD EF D8 B9 96 72 50 33 1D 10 0E 15 25 3D 59 77 94 AD C1 CE D4 D1 C8 B9 A6 91 7D 6C 5E 55 51 51 56 5E 68 72 7B 82 86 87 86 83 7E 7A 78 77 79 7E 85 8E 98 A2 A9 AD AD A8 9D 8E 7C 68 53 41 33 2C 2B 32 41 56 71 8E AC C7 DD EB F1 EC DD C5 A6 83 5F 3D 20 0B 00 00 0B 20 3E 62 44 FF 00 A5 C8 E4 F7 FF FD EF D8 B9 96 72 50 33 1D 10 0E 15 25 3D 59 77 94 AD C1 CE D4 D1 C8 B9 A6 91 7D 6C 5E 55 51 51 56 5E 68 72 7B 82 86 87 86 83 7E 7A 78 77 79 7E 85 8E 98 A2 A9 AD AD A8 9D 8E 7C 68 53 41 33 2C 2B 32 41 56 71 8E AC C7 DD EB F1 EC DD C5 A6 83 5F 3D 20 0B 00 00 0B 20 3E 62 44 FF 00 A5 C8 E4 F7 FF FD EF D8 B9 96 72 50 33 1D 10 0E 15 25 3D 59 77 94 AD C1 CE D4 D1 C8 B9 A6 91 7D 6C 5E 55 51 51 56 5E 68 72 7B 82 86 87 86 83 7E 7A 78 77 79 7E 85 8E 98 A2 A9 AD AD A8 9D 8E 7C 68 53 41 33 2C 2B 32 41 56 71 8E AC C7 DD EB F1 EC DD C5 A6 83 5F 3D 20 0B 00 00 0B 20 3E 62 44 FF 00 A5 C8 E4 F7 FF FD EF D8 B9 96 72 50 33 1D 10 0E 15 25 3D 59 77 94 AD C1 CE D4 D1 C8 B9 A6 91 7D 6C 5E 55 51 51 56 5E 68 72 7B 82 86 87 86 83 7E 7A 78 77 79 7E 85 8E 98 A2 A9 AD AD A8 9D 8E 7C 68 53 41 33 2C 2B 32 41 56 71 8E AC C7 DD EB F1 EC DD C5 A6 83 5F 3D 20 0B 00 00 0B 20 3E 62 44 FF 00 A5 C8 E4 F7 FF FD EF D8 B9 96 72 50 33 1D 10 0E 15 25 3D 59 77 94 AD C1 CE D4 D1 C8 B9 A6 91 7D 6C 5E 55 51 51 56 5E 68 72 7B 82 86 87 86 83 7E 7A 78 77 79 7E 85 8E 98 A2 A9 AD AD A8 9D 8E 7C 68 53 41 33 2C 2B 32 41 56 71 8E AC C7 DD EB F1 EC DD C5 A6 83 5F 3D 20 0B 00 00 0B 20 3E 62 00 40 C4```

To modify this, simply open your favourite audio manipulation tool to create the desired tones and replace the bytes as appropriate.  You will note that the "stock" dialtone firwmare contains 7 cycles of sine waves which will need to be matched by any new audio you replace it with.


